---
layout: post
title: 도커파일을 이용한 자동화
subtitle: [TIL12 42seoul]
thumbnail-img: ../images/task.png
tags: [TIL, 42seoul, Dockerfile]
comments: true
---
## Dockerfile 이란?

지금까지 단순히 이미지를 받아서 컨테이너를 생성하고 그 안에서 각종 작업을 진행했다.  

그러나 이 작업은 매번 환경을 구성해야 하는 문제가 있다.  

이런 문제를 해결해주는 것이 "**Dockerfile**" 이다.  

**Dokerfile**은 컨테이너에 설치해야 하는 **패키지, 소스코드, 명령어, 환경변수설정 등을 기록한 하나의 파일**이다.  

모든 기록을 마친 **Dockerfile**을 빌드하면 자동으로 모든 설정이 적용된 **이미지가 생성**된다.  

이러한 방법으로 수동적인 작업을 **자동화**할 수 있게 되었다.  
<br>

## Dockerfile 간단한 문법  
<br>

### FROM

- 생성할 이미지의 **베이스**가 될 이미지를 뜻한다.

- 반드시 한 번 이상 입력해야 한다  
<br>

### LABEL

- 이미지에 **메타데이터를 추가**한다.

- 나중에 원하는 조건의 컨테이너, 이미지 등을 쉽게 찾을 수 있도록 도와주기 때문에 기억하는 것이 좋다.  
<br>

### RUN

- 이미지를 만들기 위해 **컨테이너 내부에서 명령어를 실행**한다.

- 여기서 주의할 점은 설치 과정에서 별도의 입력이 불가능하기 때문에 **-y** 옵션을 붙여야 한다.

- ex) **RUN apt-get install -y nginx**  
<br>

### ADD

- **파일을** **이미지에 추가**한다.

- **COPY**와 비슷하지만 **ADD**의 활용도가 더 좋다.  
<br>

### EXPOSE

- 이미지에서 노출할 **포트를 설정**한다.  
<br>

### CMD

- 컨테이너가 시작될 때, **처음 실행할 명령어**다.

- Dokerfile에서 **한 번만 사용**할 수 있다.